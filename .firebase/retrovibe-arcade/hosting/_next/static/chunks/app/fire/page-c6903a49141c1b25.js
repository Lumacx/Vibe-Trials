(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[919],{16805:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var n=r(8567),a=r(92123);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},53949:(e,t,r)=>{Promise.resolve().then(r.bind(r,99549))},55472:(e,t,r)=>{"use strict";r.d(t,{Mg:()=>l,OG:()=>a});let n="vibeTrialsLeaderboard",a=e=>{let t=localStorage.getItem(n);return(t?JSON.parse(t):{})[e]||[]},l=(e,t,r)=>{let a=localStorage.getItem(n),l=a?JSON.parse(a):{};l[e]||(l[e]=[]),l[e].push({playerName:t,score:r}),l[e].sort((e,t)=>t.score-e.score),localStorage.setItem(n,JSON.stringify(l))}},68349:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,D:()=>c});var n=r(56391),a=r(16465),l=r(32074),s=r(16805);let o=["score","time","lives","health","className"];var i=l.createElement;function c(e){let{score:t,time:r,lives:c,health:u,className:m}=e,f=(0,a.A)(e,o),{0:d,1:p}=(0,l.useState)(t),{0:v,1:x}=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(t!==d){x(!0),p(t);let e=setTimeout(()=>x(!1),500);return()=>clearTimeout(e)}},[t,d]),i("div",(0,n.A)({className:(0,s.cn)("w-48 space-y-2 rounded-lg border-2 border-accent/50 bg-background/70 p-4 font-code text-accent shadow-lg backdrop-blur-sm flex flex-col",m)},f),i("div",{className:(0,s.cn)("flex justify-between",{"text-red-400 animate-pulse":r<20})},i("span",null,"TIME"),i("span",null,r,"s")),i("div",{className:(0,s.cn)("flex justify-between",{"text-yellow-300 animate-scoreflash":v})},i("span",null,"SCORE"),i("span",null,t)),void 0!==c&&i("div",{className:"flex justify-between"},i("span",null,"LIVES"),i("span",null,c)),void 0!==u&&i("div",{className:"flex justify-between"},i("span",null,"HP"),i("span",null,u)))}let u=c},76025:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(32074),a=r(47149),l=n.createElement;let s=e=>{let{src:t,volume:r=.15,loop:s=!0}=e,o=(0,a.usePathname)(),{0:i,1:c}=(0,n.useState)(r),{0:u,1:m}=(0,n.useState)(!1),f=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=f.current;return e&&(e.volume=u?0:i,e.loop=s,e.play().catch(e=>{console.warn("\uD83D\uDD07 Autoplay blocked or failed:",e.message)})),()=>{e&&(e.pause(),e.currentTime=0)}},[t,s,i,u]),l("div",{className:`z-50 flex items-center space-x-2 bg-black/50 rounded-md border border-purple-500 
        ${"/"===o||"/leaderboard"===o||"/credits"===o?"fixed bottom-4 right-4":"relative left-1/2 transform -translate-x-1/2"}
        h-10 px-2`},l("button",{onClick:()=>{m(!u),f.current&&(f.current.muted=!u)},className:"h-8 w-8 flex items-center justify-center rounded-md bg-purple-600 text-white text-sm hover:bg-purple-700 transition"},u?"\uD83D\uDD07":"\uD83D\uDD0A"),l("input",{type:"range",min:"0",max:"1",step:"0.01",value:u?0:i,onChange:e=>{let t=parseFloat(e.target.value);c(t),f.current&&(f.current.volume=t),m(0===t)},className:"h-2 w-24 appearance-none rounded bg-gray-300 dark:bg-gray-700 cursor-pointer"}),l("audio",{ref:f,src:t,preload:"auto",onError:e=>console.error("âŒ Audio error:",e)}))}},79155:(e,t,r)=>{"use strict";r.d(t,{p:()=>c});var n=r(56391),a=r(16465),l=r(32074),s=r(16805);let o=["className","type"];var i=l.createElement;let c=l.forwardRef((e,t)=>{let{className:r,type:l}=e,c=(0,a.A)(e,o);return i("input",(0,n.A)({type:l,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},c))});c.displayName="Input"},89269:(e,t,r)=>{"use strict";r.d(t,{$:()=>f});var n=r(56391),a=r(16465),l=r(32074),s=r(2719),o=r(82271),i=r(16805);let c=["className","variant","size","asChild"];var u=l.createElement;let m=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=l.forwardRef((e,t)=>{let{className:r,variant:l,size:o,asChild:f=!1}=e,d=(0,a.A)(e,c);return u(f?s.DX:"button",(0,n.A)({className:(0,i.cn)(m({variant:l,size:o,className:r})),ref:t},d))});f.displayName="Button"},99549:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(32074),a=r(49688),l=r.n(a),s=r(47149),o=r(89269),i=r(67305),c=r(76025),u=r(68349),m=r(16898),f=r(74131),d=r(79155),p=r(55472),v=n.createElement;let x=e=>{let{setScore:t,setHealth:r,gameState:a}=e,l=(0,n.useRef)(null),s=(0,n.useRef)(null),o=(0,n.useRef)(null),i=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(new m.YJl),d=(0,n.useRef)(),p=(0,n.useRef)(),x=(0,n.useRef)(new m.Pq0(0,0,0)),{0:g,1:w}=(0,n.useState)(!1),h=(0,n.useRef)(!1);(0,n.useEffect)(()=>{h.current=g},[g]);let b=(0,n.useRef)(["/sfx/Gem_Cut_1.mp3","/sfx/Gem_Cut_2.mp3","/sfx/Gem_Cut_3.mp3"].map(e=>new f.Howl({src:[e],volume:.15}))),y=(0,n.useRef)(new f.Howl({src:["/sfx/Ice_Cube_freeze.mp3"],volume:.1})),N=(0,n.useRef)(new f.Howl({src:["/sfx/Explosion_boom.mp3"],volume:.2})),k=(0,n.useRef)(new f.Howl({src:["/sfx/Object_Woosh_Gentle.mp3"],volume:.1})),{0:E,1:S}=(0,n.useState)(1);return(0,n.useEffect)(()=>{let e=l.current;if(!e)return;let n=e.clientWidth,f=e.clientHeight,v=new m.JeP({antialias:!0});v.setSize(n,f),e.appendChild(v.domElement),s.current=v;let F=new m.Z58;F.background=new m.Q1f(657930),o.current=F;let A=new m.qUd(-(n/2),n/2,f/2,-(f/2),1,1e3);A.position.z=10,i.current=A;let R=new m.eaF(new m.qFE(.04*f,.1*f,32),new m._4j({color:0xffa500,emissive:0xffa500,emissiveIntensity:.8}));R.rotation.z=Math.PI,c.current=R,F.add(R),F.add(new m.$p8(0xffffff)),F.add(u.current);let T=setInterval(()=>{S(e=>1.01*e)},1e3),_=e=>{let t=new m.eaF(new m.Gu$(2,8,8),new m.V9B({color:0xff4500,transparent:!0,opacity:.8}));t.position.copy(e),o.current?.add(t);let r={opacity:.8},n=performance.now(),a=e=>{r.opacity=Math.max(0,.8-(e-n)/300*.8),t.material.opacity=r.opacity,r.opacity>0?requestAnimationFrame(a):o.current?.remove(t)};requestAnimationFrame(a)},M=e=>{let t=new m.eaF(new m.Gu$(4,8,8),new m.V9B({color:0xffffff,transparent:!0,opacity:1}));t.position.copy(e),o.current?.add(t);let r=performance.now(),n=e=>{let a=Math.max(0,1-(e-r)/200);t.material.opacity=a,a>0?requestAnimationFrame(n):o.current?.remove(t)};requestAnimationFrame(n)},C=()=>{if(!c.current)return;let e=c.current.material;e.color.set(49151),e.emissive.set(49151);for(let e=0;e<5;e++){let e=new m.eaF(new m.Gu$(2,8,8),new m.V9B({color:49151,transparent:!0,opacity:.8}));e.position.copy(c.current.position),o.current?.add(e),e.position.y;let t=performance.now(),r=n=>{let a=n-t;e.position.y=e.position.y-.1,e.material.opacity=Math.max(0,.8-a/500),e.material.opacity>0?requestAnimationFrame(r):o.current?.remove(e)};requestAnimationFrame(r)}setTimeout(()=>{e.color.set(0xffa500),e.emissive.set(0xffa500)},1500)},j=e=>{let t=new m.eaF(new m.Gu$(6,8,8),new m.V9B({color:0xff0000,transparent:!0,opacity:1}));t.position.copy(e),o.current?.add(t);let r=performance.now(),n=e=>{let a=e-r,l=1+a/500*2;t.scale.set(l,l,l),t.material.opacity=Math.max(0,1-a/500),t.material.opacity>0?requestAnimationFrame(n):o.current?.remove(t)};requestAnimationFrame(n)},I=()=>{if(!c.current)return;let e=c.current.material,t=[0xffffff,0xffa500,0xff0000],r=0,n=0,a=()=>{e.color.set(t[r%t.length]),e.emissive.set(t[r%t.length]),r++,++n<6?setTimeout(a,100):(e.color.set(0xffa500),e.emissive.set(0xffa500))};a()},O=()=>{if(!s.current)return;let e=s.current,t=new m.Q1f;e.getClearColor(t);let r=[0xffffff,0xffa500,0xff0000],n=0,a=0,l=()=>{e.setClearColor(r[n%r.length]),n++,++a<6?setTimeout(l,100):e.setClearColor(t)};l()};"playing"===a&&(p.current=setInterval(()=>{let e,t,r,n=280+100*Math.random(),a=Math.random();if(a<.5){let n=.03*f,a=new m.ypk;a.moveTo(0,n),a.lineTo(n/2,0),a.lineTo(0,-n),a.lineTo(-n/2,0),a.lineTo(0,n),e=new m.MSw(a),t=new m._4j({color:65280,emissive:65280,emissiveIntensity:.8}),r="gem"}else if(a<.75)e=new m.iNn(.04*f,.04*f,1),t=new m._4j({color:49151,emissive:49151,emissiveIntensity:.8}),r="ice";else{let n=.03*f,a=new m.ypk;a.moveTo(0,n),a.lineTo(.3*n,.3*n),a.lineTo(n,0),a.lineTo(.3*n,-(.3*n)),a.lineTo(0,-n),a.lineTo(-(.3*n),-(.3*n)),a.lineTo(-n,0),a.lineTo(-(.3*n),.3*n),a.lineTo(0,n),e=new m.MSw(a),t=new m._4j({color:0xff0000,emissive:0xff0000,emissiveIntensity:.8}),r="explosive"}let l=new m.eaF(e,t);l.userData.type=r;let s=Math.random()*Math.PI*2;l.position.set(Math.cos(s)*n,Math.sin(s)*n,0),l.userData.dir=new m.Pq0().subVectors(new m.Pq0(0,0,0),l.position).normalize(),u.current.add(l),k.current.play()},800));let q=()=>{if(d.current=requestAnimationFrame(q),"gameOver"===a)return void v.render(F,A);c.current&&!h.current&&(c.current.position.copy(x.current),_(c.current.position)),u.current.children.forEach(e=>{if(e.position.addScaledVector(e.userData.dir,1.25*E),c.current){let n=new m.NRn().setFromObject(c.current),a=new m.NRn().setFromObject(e);n.intersectsBox(a)&&("gem"===e.userData.type?(t(e=>e+5),b.current[Math.floor(Math.random()*b.current.length)].play(),M(e.position)):"ice"===e.userData.type?g||(w(!0),y.current.play(),C(),setTimeout(()=>w(!1),1500)):"explosive"===e.userData.type&&(N.current.play(),j(e.position),I(),O(),r(e=>Math.max(0,e-1)),c.current.position.set(0,0,0)),u.current.remove(e))}}),v.render(F,A)};q();let z=t=>{if(h.current||!e)return;let r=e.getBoundingClientRect(),a=t.clientX??t.touches?.[0]?.clientX,l=t.clientY??t.touches?.[0]?.clientY;if(null==a||null==l)return;let s=(a-r.left)/r.width*n-n/2,o=-((l-r.top)/r.height)*f+f/2;x.current.set(s,o,0)};return window.addEventListener("mousemove",z),window.addEventListener("touchmove",z,{passive:!1}),()=>{d.current&&cancelAnimationFrame(d.current),p.current&&clearInterval(p.current),clearInterval(T),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z),v.dispose(),v.domElement.parentNode&&v.domElement.parentNode.removeChild(v.domElement)}},[a]),v("div",{ref:l,className:"w-full h-full"})},g=()=>{let{0:e,1:t}=(0,n.useState)(0),{0:r,1:a}=(0,n.useState)(3),{0:m,1:f}=(0,n.useState)(""),g=(0,s.useRouter)(),w=async()=>{m.trim()&&(await (0,p.Mg)("Flame Frenzy",m,e),g.push("/"))},{0:h,1:b}=(0,n.useState)(90),{0:y,1:N}=(0,n.useState)("playing");return(0,n.useEffect)(()=>{if("playing"!==y)return;let e=setInterval(()=>{b(e=>e<=1?(N("gameOver"),0):e-1)},1e3);return()=>clearInterval(e)},[y]),(0,n.useEffect)(()=>{r<=0&&"playing"===y&&N("gameOver")},[r,y]),v(n.Fragment,null,v("div",{className:"w-full px-[10%] p-2 mb-2 flex flex-wrap gap-6 justify-between"},v("div",{className:"flex flex-wrap items-center justify-between gap-5 flex-1 min-w-[250px]"},v("div",{className:"flex-shrink-0"},v(l(),{href:"/",passHref:!0},v(o.$,{variant:"outline",className:"h-10"},v(i.A,{className:"mr-2 h-4 w-4"}),"Back to Hub"))),v("div",{className:"flex-shrink max-w-[180px] w-full"},v(c.A,{src:"/music/2_Arcade_Fever.mp3",volume:.15}))),v("div",{className:"flex flex-wrap items-center justify-between gap-5 flex-1 min-w-[250px]"},v("div",{className:"text-red-400 font-headline font-bold text-xl sm:text-2xl"},"Flame Frenzy"),v("div",{className:"flex-shrink-0",style:{transform:"scale(0.8)",transformOrigin:"right center"}},v(u.A,{score:e,time:h,health:r})))),v("div",{className:"flex flex-col items-center justify-center w-full h-full p-4 space-y-4"},v("div",{className:"relative max-w-5xl w-[80vw] rounded-lg border-4 border-accent/50 bg-black/30 backdrop-blur-sm",style:{height:"calc(60vh - 2rem)"}},v(x,{setScore:t,setHealth:a,gameState:y}))),v("div",{className:"w-full flex justify-center items-stretch gap-4 flex-wrap px-[10%] p-2"},v("div",{className:"bg-black/70 p-4 rounded-lg max-w-xs min-w-[120px] flex-1"},v("h3",{className:"font-headline text-xl font-bold mb-2"},"Goal"),v("p",null,"Cut the glowing gems to get points."),v("p",null,"Avoid the ice cubes and explosives.")),v("div",{className:"flex items-center justify-center flex-1 min-w-[120px]"},v("img",{src:"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExNDNvaTNua2JlOWV0ajE1M2pkd2IzM25naGNpamRta2xmbHYyN2p6eiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Dt9Kt7v5r30BHtkRdx/giphy.gif",alt:"Cutting Animation",className:"w-32 sm:w-40 h-auto rounded-lg shadow-lg"})),v("div",{className:"bg-black/70 p-4 rounded-lg max-w-xs min-w-[120px] flex-1"},v("h3",{className:"font-headline text-xl font-bold mb-2"},"Movement"),v("p",null,"Move the cursor/finger to control the flame sword."),v("p",null,"Use arrow keys too!"))),"gameOver"===y&&v("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 z-50"},v("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg text-center"},v("h2",{className:"text-3xl font-bold text-red-400 mb-4"},"Time's up - Save Score in Hub?"),v("p",{className:"text-white mb-4"},"Final Score: ",e),v("div",{className:"mb-4"},v(d.p,{placeholder:"Enter your name",value:m,onChange:e=>f(e.target.value)})),v("div",{className:"flex gap-4 justify-center"},v(o.$,{onClick:w},"Save Score"),v(o.$,{onClick:()=>window.location.reload()},"Restart"),v(l(),{href:"/",passHref:!0},v(o.$,{variant:"secondary"},"Back to Hub"))))))}}},e=>{var t=t=>e(e.s=t);e.O(0,[377,457,688,175,189,96,358],()=>t(53949)),_N_E=e.O()}]);
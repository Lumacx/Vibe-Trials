(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{16805:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var n=r(8567),a=r(92123);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},55472:(e,t,r)=>{"use strict";r.d(t,{Mg:()=>s,OG:()=>a});let n="vibeTrialsLeaderboard",a=e=>{let t=localStorage.getItem(n);return(t?JSON.parse(t):{})[e]||[]},s=(e,t,r)=>{let a=localStorage.getItem(n),s=a?JSON.parse(a):{};s[e]||(s[e]=[]),s[e].push({playerName:t,score:r}),s[e].sort((e,t)=>t.score-e.score),localStorage.setItem(n,JSON.stringify(s))}},55728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(32074),a=r(49688),s=r.n(a),l=r(47149),o=r(79155),i=r(55472),c=r(89269),u=r(67305),d=r(76025),f=r(68349),m=r(16898),p=r(74131),w=n.createElement;let x=new p.Howl({src:["/sfx/Water_Blast_hose.mp3"],volume:.15}),h=new p.Howl({src:["/sfx/Fire_Extinguish.mp3"],volume:.1});new p.Howl({src:["/sfx/Monster_Movement_1.mp3"],volume:.05}),new p.Howl({src:["/sfx/Monster_Movement_2.mp3"],volume:.05});let v=[new p.Howl({src:["/sfx/Player_Hit_ouch_1.mp3"],volume:.2}),new p.Howl({src:["/sfx/Player_Hit_ouch_2.mp3"],volume:.2})],b=new p.Howl({src:["/sfx/House_Burning.mp3"],loop:!0,volume:.05}),g=new p.Howl({src:["/sfx/Game_Over_Despair.mp3"],volume:.15});function y(){let{0:e,1:t}=(0,n.useState)(0),{0:r,1:a}=(0,n.useState)(100),{0:p,1:y}=(0,n.useState)(90),{0:N,1:k}=(0,n.useState)("playing"),{0:E,1:M}=(0,n.useState)(""),R=(0,n.useRef)(null),S=(0,n.useRef)(null),_=(0,n.useRef)(null),A=(0,n.useRef)(null),F=(0,n.useRef)(null),j=(0,n.useRef)(null),H=(0,n.useRef)([]),P=(0,n.useRef)([]),B=(0,n.useRef)([]),O=(0,n.useRef)(!1),q=(0,n.useRef)(null),z=(0,l.useRouter)(),I=async()=>{E.trim()&&(await (0,i.Mg)("Hydro Heroes",E,e),z.push("/"))},C=(0,n.useRef)("up"),T=(0,n.useRef)(1);return(0,n.useEffect)(()=>{let e=setInterval(()=>{y(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{(0===p||r<=0)&&(k("gameOver"),g.play())},[p,r]),(0,n.useEffect)(()=>{let e=setInterval(()=>{T.current+=.5},3e4);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{let e=setInterval(()=>{R.current&&D(R.current)},1e4);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{let e=A.current;if(!e)return;let r=e.clientWidth,n=e.clientHeight,s=new m.Z58;s.background=new m.Q1f(0),R.current=s;let l=new m.qUd(-250,250,250,-250,1,1e3);l.position.z=10,S.current=l;let o=new m.JeP({antialias:!0});o.setSize(r,n),e.appendChild(o.domElement),_.current=o;let i=function(e,t,r){let n=new m.ypk;n.moveTo(15,0);for(let a=0;a<5;a++){let s=Math.PI/r*(2*a),l=Math.PI/r*(2*a+1);n.lineTo(e*Math.cos(s),e*Math.sin(s)),n.lineTo(6*Math.cos(l),t*Math.sin(l))}return n.closePath(),n}(15,6,5),c=new m.eaF(new m.MSw(i),new m.V9B({color:65535,side:m.$EB}));c.position.set(0,-150,0),s.add(c),F.current=c,D(s);let u=new m.iNn(45,45,10),d=new m.V9B({color:0xff0000}),f=new m.V9B({color:0xbbbbbb});H.current=[];let p=[];for(let e=0;e<3;e++){let e=function(e){let t=!1,r=new m.Pq0(0,0,0);for(;!t;)r.set(40*Math.round((Math.random()-.5)*340/40),40*Math.round((Math.random()-.5)*340/40),0),t=e.every(e=>e.distanceTo(r)>=80),(Math.abs(r.x)>170||Math.abs(r.y)>170)&&(t=!1);return r}(p),t=new m.eaF(u,d.clone());t.position.copy(e),t.userData.isBurning=!0,s.add(t),H.current.push(t),p.push(e),V(e,s)}[[-180,-180],[180,-180],[-80,-200],[80,-200],[-120,200],[120,200]].forEach(e=>{let[t,r]=e,n=new m.eaF(u,f.clone());n.position.set(t,r,0),s.add(n),H.current.push(n)}),b.play();let w=e=>{if(!F.current||"playing"!==N)return;let t=F.current.position.clone().clone();"ArrowUp"===e.key&&(t.y+=40,C.current="up"),"ArrowDown"===e.key&&(t.y-=40,C.current="down"),"ArrowLeft"===e.key&&(t.x-=40,C.current="left"),"ArrowRight"===e.key&&(t.x+=40,C.current="right");let r=new m.NRn().setFromCenterAndSize(t,new m.Pq0(30,30,30));H.current.some(e=>new m.NRn().setFromObject(e).intersectsBox(r))||F.current.position.copy(t),(" "===e.key||"z"===e.key)&&(x.play(),function(e){let t=[],r=F.current.position.clone();switch(C.current){case"up":t.push(new m.Pq0(r.x,r.y+40,0)),t.push(new m.Pq0(r.x,r.y+80,0));break;case"down":t.push(new m.Pq0(r.x,r.y-40,0)),t.push(new m.Pq0(r.x,r.y-80,0));break;case"left":t.push(new m.Pq0(r.x-40,r.y,0)),t.push(new m.Pq0(r.x-80,r.y,0));break;case"right":t.push(new m.Pq0(r.x+40,r.y,0)),t.push(new m.Pq0(r.x+80,r.y,0))}t.forEach(t=>{let r=new m.eaF(new m.qFE(10,30,8),new m.V9B({color:170,opacity:.7,transparent:!0}));r.position.copy(t),e.add(r),P.current.push(r),setTimeout(()=>{e.remove(r),P.current=P.current.filter(e=>e!==r)},300)})}(s))};window.addEventListener("keydown",w);let g=()=>{if(o&&l&&F.current){if(j.current){let e=new m.Pq0().subVectors(F.current.position,j.current.position).normalize().multiplyScalar(T.current);j.current.position.add(e)}if(P.current.forEach(e=>{let r=new m.NRn().setFromObject(e);if(H.current.forEach(e=>{if(e.userData.isBurning){let n=new m.NRn().setFromObject(e);r.intersectsBox(n)&&(e.material.color.set(8947848),e.userData.isBurning=!1,t(e=>e+100),h.play())}}),j.current){let e=new m.NRn().setFromObject(j.current);r.intersectsBox(e)&&(R.current?.remove(j.current),j.current=null,t(e=>e+200),h.play())}}),j.current){let e=new m.NRn().setFromObject(F.current),t=new m.NRn().setFromObject(j.current);e.intersectsBox(t)&&!O.current&&(v[Math.floor(Math.random()*v.length)].play(),a(e=>Math.max(0,e-25)),O.current=!0,F.current.material.color.set(0xff0000),setTimeout(()=>{F.current.material.color.set(65535),O.current=!1},1e3)),H.current.forEach(e=>{if(!e.userData.isBurning){let r=new m.NRn().setFromObject(e);t.intersectsBox(r)&&(e.material.color.set(0xff0000),e.userData.isBurning=!0,V(e.position,R.current))}})}o.render(s,l)}q.current=requestAnimationFrame(g)};return g(),()=>{window.removeEventListener("keydown",w),q.current&&cancelAnimationFrame(q.current),b.stop(),o.dispose(),e.removeChild(o.domElement)}},[N]),w("div",{className:"relative h-screen w-screen flex flex-col items-center justify-center bg-blue-900"},w("div",{className:"w-full px-[10%] p-2 mb-2 flex flex-wrap gap-6 justify-between"},w("div",{className:"flex flex-wrap items-center justify-between gap-5 flex-1 min-w-[250px]"},w("div",{className:"flex-shrink-0"},w(s(),{href:"/",passHref:!0},w(c.$,{variant:"outline",className:"h-10"},w(u.A,{className:"mr-2 h-4 w-4"}),"Back to Hub"))),w("div",{className:"flex-shrink max-w-[180px] w-full"},w(d.A,{src:"/music/5_Chasing_Shadows.mp3",volume:.15}))),w("div",{className:"flex flex-wrap items-center justify-between gap-5 flex-1 min-w-[250px]"},w("div",{className:"text-cyan-400 font-headline font-bold text-xl sm:text-2xl"},"Hydro Heroes"),w("div",{className:"flex-shrink-0",style:{transform:"scale(0.8)",transformOrigin:"right center"}},w(f.A,{score:e,time:p,health:r})))),w("div",{className:"flex flex-col items-center justify-center w-full h-full p-4 space-y-4"},w("div",{ref:A,className:"relative w-full max-w-5xl rounded-lg border-4 border-accent/50 bg-black/30 backdrop-blur-sm",style:{height:"calc(60vh - 2rem)"}})),w("div",{className:"w-full flex justify-center items-stretch gap-4 flex-wrap px-[10%] p-2"},w("div",{className:"bg-black/70 p-4 rounded-lg max-w-xs min-w-[120px] flex-1"},w("h3",{className:"font-headline text-xl font-bold mb-2"},"Goal"),w("p",null,"Extinguish all fires and survive flame monster attacks.")),w("div",{className:"flex items-center justify-center flex-1 min-w-[120px]"},w("img",{src:"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExMHljZ3Y5ajB3MWV1MHR1dGdxeXp5amYzdWlkZGFnazZreHoxaXFlNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ynSpLoEGuwKEJFlydz/giphy.gif",alt:"Water Animation",className:"w-32 sm:w-40 h-auto rounded-lg shadow-lg"})),w("div",{className:"bg-black/70 p-4 rounded-lg max-w-xs min-w-[120px] flex-1"},w("h3",{className:"font-headline text-xl font-bold mb-2"},"Movement"),w("p",null,"Arrow Keys: Move 1 space"),w("p",null,"Spacebar / Z: Deploy water"))),"gameOver"===N&&w("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 z-50"},w("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg text-center"}," ",w("h2",{className:"font-headline text-4xl font-bold text-red-400 mb-4"}," ","Game Over!"),w("p",{className:"text-white mb-4"},"Final Score: ",e),w("div",{className:"mb-4"}," ",w(o.p,{placeholder:"Enter your name",value:E,onChange:e=>M(e.target.value)})),w("div",{className:"flex gap-4 justify-center"}," ",w(c.$,{onClick:I},"Save Score")," ",w(c.$,{onClick:()=>window.location.reload()},"Play Again")))));function D(e){let t=new m.eaF(new m.qFE(18,36,16),new m.V9B({color:0xffff00}));t.position.set(0,170,0),e.add(t),j.current=t}function V(e,t){let r=new m.LoY,n=new Float32Array(300).map(()=>(Math.random()-.5)*20);r.setAttribute("position",new m.THS(n,3));let a=new m.ONl(r,new m.BH$({color:0xff6600,size:2}));a.position.copy(e),t.add(a),B.current.push(a)}}},68349:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,D:()=>c});var n=r(56391),a=r(16465),s=r(32074),l=r(16805);let o=["score","time","lives","health","className"];var i=s.createElement;function c(e){let{score:t,time:r,lives:c,health:u,className:d}=e,f=(0,a.A)(e,o),{0:m,1:p}=(0,s.useState)(t),{0:w,1:x}=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(t!==m){x(!0),p(t);let e=setTimeout(()=>x(!1),500);return()=>clearTimeout(e)}},[t,m]),i("div",(0,n.A)({className:(0,l.cn)("w-48 space-y-2 rounded-lg border-2 border-accent/50 bg-background/70 p-4 font-code text-accent shadow-lg backdrop-blur-sm flex flex-col",d)},f),i("div",{className:(0,l.cn)("flex justify-between",{"text-red-400 animate-pulse":r<20})},i("span",null,"TIME"),i("span",null,r,"s")),i("div",{className:(0,l.cn)("flex justify-between",{"text-yellow-300 animate-scoreflash":w})},i("span",null,"SCORE"),i("span",null,t)),void 0!==c&&i("div",{className:"flex justify-between"},i("span",null,"LIVES"),i("span",null,c)),void 0!==u&&i("div",{className:"flex justify-between"},i("span",null,"HP"),i("span",null,u)))}let u=c},76025:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(32074),a=r(47149),s=n.createElement;let l=e=>{let{src:t,volume:r=.15,loop:l=!0}=e,o=(0,a.usePathname)(),{0:i,1:c}=(0,n.useState)(r),{0:u,1:d}=(0,n.useState)(!1),f=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=f.current;return e&&(e.volume=u?0:i,e.loop=l,e.play().catch(e=>{console.warn("\uD83D\uDD07 Autoplay blocked or failed:",e.message)})),()=>{e&&(e.pause(),e.currentTime=0)}},[t,l,i,u]),s("div",{className:`z-50 flex items-center space-x-2 bg-black/50 rounded-md border border-purple-500 
        ${"/"===o||"/leaderboard"===o||"/credits"===o?"fixed bottom-4 right-4":"relative left-1/2 transform -translate-x-1/2"}
        h-10 px-2`},s("button",{onClick:()=>{d(!u),f.current&&(f.current.muted=!u)},className:"h-8 w-8 flex items-center justify-center rounded-md bg-purple-600 text-white text-sm hover:bg-purple-700 transition"},u?"\uD83D\uDD07":"\uD83D\uDD0A"),s("input",{type:"range",min:"0",max:"1",step:"0.01",value:u?0:i,onChange:e=>{let t=parseFloat(e.target.value);c(t),f.current&&(f.current.volume=t),d(0===t)},className:"h-2 w-24 appearance-none rounded bg-gray-300 dark:bg-gray-700 cursor-pointer"}),s("audio",{ref:f,src:t,preload:"auto",onError:e=>console.error("âŒ Audio error:",e)}))}},79155:(e,t,r)=>{"use strict";r.d(t,{p:()=>c});var n=r(56391),a=r(16465),s=r(32074),l=r(16805);let o=["className","type"];var i=s.createElement;let c=s.forwardRef((e,t)=>{let{className:r,type:s}=e,c=(0,a.A)(e,o);return i("input",(0,n.A)({type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t},c))});c.displayName="Input"},79354:(e,t,r)=>{Promise.resolve().then(r.bind(r,55728))},89269:(e,t,r)=>{"use strict";r.d(t,{$:()=>f});var n=r(56391),a=r(16465),s=r(32074),l=r(2719),o=r(82271),i=r(16805);let c=["className","variant","size","asChild"];var u=s.createElement;let d=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:f=!1}=e,m=(0,a.A)(e,c);return u(f?l.DX:"button",(0,n.A)({className:(0,i.cn)(d({variant:s,size:o,className:r})),ref:t},m))});f.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[377,457,688,175,189,96,358],()=>t(79354)),_N_E=e.O()}]);
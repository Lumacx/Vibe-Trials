(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[749],{16805:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var n=t(8567),a=t(92123);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,n.$)(r))}},31519:(e,r,t)=>{Promise.resolve().then(t.bind(t,73035))},55472:(e,r,t)=>{"use strict";t.d(r,{Mg:()=>l,OG:()=>a});let n="vibeTrialsLeaderboard",a=e=>{let r=localStorage.getItem(n);return(r?JSON.parse(r):{})[e]||[]},l=(e,r,t)=>{let a=localStorage.getItem(n),l=a?JSON.parse(a):{};l[e]||(l[e]=[]),l[e].push({playerName:r,score:t}),l[e].sort((e,r)=>r.score-e.score),localStorage.setItem(n,JSON.stringify(l))}},68349:(e,r,t)=>{"use strict";t.d(r,{A:()=>u,D:()=>c});var n=t(56391),a=t(16465),l=t(32074),s=t(16805);let i=["score","time","lives","health","className"];var o=l.createElement;function c(e){let{score:r,time:t,lives:c,health:u,className:d}=e,m=(0,a.A)(e,i),{0:f,1:p}=(0,l.useState)(r),{0:v,1:g}=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(r!==f){g(!0),p(r);let e=setTimeout(()=>g(!1),500);return()=>clearTimeout(e)}},[r,f]),o("div",(0,n.A)({className:(0,s.cn)("w-48 space-y-2 rounded-lg border-2 border-accent/50 bg-background/70 p-4 font-code text-accent shadow-lg backdrop-blur-sm flex flex-col",d)},m),o("div",{className:(0,s.cn)("flex justify-between",{"text-red-400 animate-pulse":t<20})},o("span",null,"TIME"),o("span",null,t,"s")),o("div",{className:(0,s.cn)("flex justify-between",{"text-yellow-300 animate-scoreflash":v})},o("span",null,"SCORE"),o("span",null,r)),void 0!==c&&o("div",{className:"flex justify-between"},o("span",null,"LIVES"),o("span",null,c)),void 0!==u&&o("div",{className:"flex justify-between"},o("span",null,"HP"),o("span",null,u)))}let u=c},73035:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var n=t(32074),a=t(47149),l=t(49688),s=t.n(l),i=t(89269),o=t(68349),c=t(76025),u=t(67305),d=t(16898),m=t(74131),f=t(55472),p=n.createElement;function v(){let e=(0,a.useRouter)(),{0:r,1:t}=(0,n.useState)(0),{0:l,1:v}=(0,n.useState)(90),{0:g,1:x}=(0,n.useState)("playing"),{0:h,1:w}=(0,n.useState)(1),{0:b,1:y}=(0,n.useState)(""),N=(0,n.useRef)(null),k=(0,n.useRef)(null),E=(0,n.useRef)(null),R=(0,n.useRef)(null),S=(0,n.useRef)(null),j=(0,n.useRef)(new d.YJl),_=(0,n.useRef)(new d.YJl),A=(0,n.useRef)(null),O=(0,n.useRef)(null),F=(0,n.useRef)(null),z=(0,n.useRef)(null),H=(0,n.useRef)(0),M=(0,n.useRef)(null),P=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if("playing"!==g)return;let e=setInterval(()=>{v(r=>r<=1?(x("gameOver"),z.current?.play(),clearInterval(e),0):r-1)},1e3);return()=>clearInterval(e)},[g]),(0,n.useEffect)(()=>{h<=0&&"playing"===g&&(x("gameOver"),z.current?.play())},[h,g]),(0,n.useEffect)(()=>{if(void 0!==m.Howl)return A.current=new m.Howl({src:["/sfx/Player_Shot_whoosh-1.mp3"],volume:.2}),O.current=new m.Howl({src:["/sfx/Enemy_Explosion_1.mp3"],volume:.3}),F.current=new m.Howl({src:["/sfx/Enemy_Projectile_1.mp3"],volume:.2}),z.current=new m.Howl({src:["/sfx/Game_Over_Dramatic-1.mp3"],volume:.5}),()=>{A.current?.unload(),O.current?.unload(),F.current?.unload(),z.current?.unload()}},[]),(0,n.useEffect)(()=>{let e=N.current;if(!e)return;(()=>{R.current&&(e.contains(R.current.domElement)&&e.removeChild(R.current.domElement),R.current.dispose()),k.current&&k.current.clear();let r=e.clientWidth,t=e.clientHeight;k.current=new d.Z58,k.current.background=new d.Q1f(1122884),E.current=new d.qUd(-(r/2),r/2,t/2,-(t/2),1,1e3),E.current.position.z=10,R.current=new d.JeP({antialias:!0}),R.current.setSize(r,t),e.appendChild(R.current.domElement);let n=new d.$p8(4210752);k.current.add(n);let a=new d.ZyN(0xffffff,.5);a.position.set(0,0,1),k.current.add(a);let l=new d.qFE(15,40,32),s=new d.V9B({color:65535});S.current=new d.eaF(l,s),S.current.position.set(0,-(t/2)+60,0),k.current.add(S.current),j.current=new d.YJl,_.current=new d.YJl,k.current.add(j.current),k.current.add(_.current)})();let r=()=>{M.current=requestAnimationFrame(r),"playing"===g&&(n(),a(),l()),R.current?.render(k.current,E.current)},n=()=>{let r=_.current.children,t=e.clientHeight;for(let e=r.length-1;e>=0;e--){let n=r[e];n.userData.isPlayer?(n.position.y+=5,n.position.y>t/2+20&&_.current.remove(n)):(n.position.y-=2.5,n.position.y<-(t/2)-20&&_.current.remove(n))}},a=()=>{let r=j.current.children,t=e.clientHeight;for(let e=r.length-1;e>=0;e--){let n=r[e];n.position.y-=.2,n.position.y<-(t/2)-20&&(j.current.remove(n),w(e=>e-1))}},l=()=>{if(!S.current||"playing"!==g)return;let e=new d.NRn().setFromObject(S.current),r=j.current.children,n=_.current.children;for(let e=n.length-1;e>=0;e--){let a=n[e];if(!a.userData.isPlayer)continue;let l=new d.NRn().setFromObject(a);for(let e=r.length-1;e>=0;e--){let n=r[e],s=new d.NRn().setFromObject(n);if(l.intersectsBox(s)){_.current.remove(a),j.current.remove(n),t(e=>e+100),O.current?.play();break}}}for(let t=r.length-1;t>=0;t--){let n=r[t],a=new d.NRn().setFromObject(n);if(e.intersectsBox(a)){j.current.remove(n),w(0);break}}},s=r=>{if("playing"!==g||!S.current)return;let t=e.clientWidth/2-40;"ArrowLeft"===r.key||"a"===r.key?(S.current.position.x-=10,S.current.position.x<-t&&(S.current.position.x=-t)):"ArrowRight"===r.key||"d"===r.key?(S.current.position.x+=10,S.current.position.x>t&&(S.current.position.x=t)):(" "===r.key||"z"===r.key)&&Date.now()-H.current>300&&(i(),H.current=Date.now())},i=()=>{if(!S.current||!_.current)return;let e=new d.Ho_(3,3,30,8),r=new d.V9B({color:65535}),t=new d.eaF(e,r);t.position.copy(S.current.position),t.position.y+=35,t.userData.isPlayer=!0,_.current.add(t),A.current?.play()};window.addEventListener("keydown",s);let o=new ResizeObserver(()=>{if(!E.current||!R.current)return;let r=e.clientWidth,t=e.clientHeight;if(E.current.left=-(r/2),E.current.right=r/2,E.current.top=t/2,E.current.bottom=-(t/2),E.current.updateProjectionMatrix(),R.current.setSize(r,t),S.current){let e=r/2-40;S.current.position.x=Math.max(-e,Math.min(e,S.current.position.x)),S.current.position.y=-(t/2)+60}});return o.observe(e),P.current=setInterval(()=>{if(!k.current||"playing"!==g)return;let r=e.clientWidth,t=new d.Gu$(20,16,16),n=new d.V9B({color:0xff0000}),a=new d.eaF(t,n),l=(Math.random()-.5)*(r-80);a.position.set(l,e.clientHeight/2+40,0),j.current.add(a)},1e3),r(),()=>{P.current&&clearInterval(P.current),window.removeEventListener("keydown",s),o.disconnect(),M.current&&cancelAnimationFrame(M.current),k.current?.traverse(e=>{e instanceof d.eaF&&(e.geometry.dispose(),e.material instanceof d.imn?e.material.dispose():Array.isArray(e.material)&&e.material.forEach(e=>e.dispose()))}),k.current?.clear(),R.current&&(R.current.dispose(),e.contains(R.current.domElement)&&e.removeChild(R.current.domElement))}},[g]),p(n.Fragment,null,p("div",{className:"w-full px-[10%] p-2 mb-2 flex flex-wrap gap-6 justify-between"},p("div",{className:"flex flex-wrap items-center justify-between gap-5 flex-1 min-w-[250px]"},p("div",{className:"flex-shrink-0"},p(s(),{href:"/",passHref:!0},p(i.$,{variant:"outline",className:"h-10"},p(u.A,{className:"mr-2 h-4 w-4"}),"Back to Hub"))),p("div",{className:"flex-shrink max-w-[180px] w-full"},p(c.A,{src:"/music/4_Neon_Horizons.mp3",volume:.15}))),p("div",{className:"flex flex-wrap items-center justify-between gap-5 flex-1 min-w-[250px]"},p("div",{className:"text-cyan-300 font-headline font-bold text-xl sm:text-2xl"},"Sky Guardian"),p("div",{className:"flex-shrink-0",style:{transform:"scale(0.8)",transformOrigin:"right center"}},p(o.D,{score:r,time:l,lives:h})))),p("div",{className:"flex flex-col items-center justify-center w-full h-full p-4 space-y-4 relative z-10"},p("div",{ref:N,className:"relative rounded-lg border-4 border-accent/50 bg-black/30 backdrop-blur-sm",style:{width:"80vw",height:"calc(70vh - 2rem)",marginTop:0,marginLeft:"auto",marginRight:"auto"}})),p("div",{className:"w-full flex justify-center items-stretch gap-4 flex-wrap px-[10%] p-2 relative z-10"},p("div",{className:"bg-black/70 p-4 rounded-lg max-w-xs min-w-[120px] flex-1"},p("h3",{className:"font-headline text-xl font-bold mb-2"},"Goal"),p("p",null,"Destroy incoming alien enemies."),p("p",null,"Survive as long as possible.")),p("div",{className:"flex items-center justify-center flex-1 min-w-[120px]"},p("img",{src:"https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExOXF1czhzM2djMXpyYnVyaW1tejVwMzljbDY3ZGtwOXM1b3B3enljMyZlcD12MV9pbnRlcm5hbF9naWZfYnl_idmcat=g/3IcEq6Cq9R9ErPoZIK/giphy.gif",alt:"Wind Animation",className:"w-32 sm:w-40 h-auto rounded-lg shadow-lg"})),p("div",{className:"bg-black/70 p-4 rounded-lg max-w-xs min-w-[120px] flex-1"},p("h3",{className:"font-headline text-xl font-bold mb-2"},"Movement"),p("p",null,"Arrow Keys / A / D: Move left/right."),p("p",null,"Spacebar / Z: Shoot."))),"gameOver"===g&&p("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 z-50"},p("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg text-center flex flex-col items-center"},p("h2",{className:"text-3xl font-bold text-red-400 mb-4"},"Game Over"),p("p",{className:"text-white mb-4"},"Final Score: ",r),p("div",{className:"mb-4 w-full max-w-xs"},p("label",{htmlFor:"playerName",className:"block text-white text-sm font-bold mb-2"},"Enter your name:"),p("input",{type:"text",id:"playerName",value:b,onChange:e=>y(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Player Name"})),p("div",{className:"flex gap-4 justify-center flex-wrap"},p(i.$,{onClick:()=>{if(""===b.trim())return void alert("Please enter your name to save your score.");(0,f.Mg)("Sky Guardian",b,r),e.push("/")},disabled:""===b.trim()},"Save Score"),p(i.$,{onClick:()=>window.location.reload()},"Restart"),p(s(),{href:"/",passHref:!0},p(i.$,{variant:"secondary"},"Back to Hub"))))))}},76025:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var n=t(32074),a=t(47149),l=n.createElement;let s=e=>{let{src:r,volume:t=.15,loop:s=!0}=e,i=(0,a.usePathname)(),{0:o,1:c}=(0,n.useState)(t),{0:u,1:d}=(0,n.useState)(!1),m=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=m.current;return e&&(e.volume=u?0:o,e.loop=s,e.play().catch(e=>{console.warn("\uD83D\uDD07 Autoplay blocked or failed:",e.message)})),()=>{e&&(e.pause(),e.currentTime=0)}},[r,s,o,u]),l("div",{className:`z-50 flex items-center space-x-2 bg-black/50 rounded-md border border-purple-500 
        ${"/"===i||"/leaderboard"===i||"/credits"===i?"fixed bottom-4 right-4":"relative left-1/2 transform -translate-x-1/2"}
        h-10 px-2`},l("button",{onClick:()=>{d(!u),m.current&&(m.current.muted=!u)},className:"h-8 w-8 flex items-center justify-center rounded-md bg-purple-600 text-white text-sm hover:bg-purple-700 transition"},u?"\uD83D\uDD07":"\uD83D\uDD0A"),l("input",{type:"range",min:"0",max:"1",step:"0.01",value:u?0:o,onChange:e=>{let r=parseFloat(e.target.value);c(r),m.current&&(m.current.volume=r),d(0===r)},className:"h-2 w-24 appearance-none rounded bg-gray-300 dark:bg-gray-700 cursor-pointer"}),l("audio",{ref:m,src:r,preload:"auto",onError:e=>console.error("âŒ Audio error:",e)}))}},89269:(e,r,t)=>{"use strict";t.d(r,{$:()=>m});var n=t(56391),a=t(16465),l=t(32074),s=t(2719),i=t(82271),o=t(16805);let c=["className","variant","size","asChild"];var u=l.createElement;let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=l.forwardRef((e,r)=>{let{className:t,variant:l,size:i,asChild:m=!1}=e,f=(0,a.A)(e,c);return u(m?s.DX:"button",(0,n.A)({className:(0,o.cn)(d({variant:l,size:i,className:t})),ref:r},f))});m.displayName="Button"}},e=>{var r=r=>e(e.s=r);e.O(0,[377,457,688,175,189,96,358],()=>r(31519)),_N_E=e.O()}]);